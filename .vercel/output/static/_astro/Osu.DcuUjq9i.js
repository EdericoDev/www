import{o as W,i as X,a as z}from"./index-client.CS-wT3sY.js";import{p as Y,a as u,b as Z,e as f,s as w,m as T,g as a,d as t,f as ee,i as l,r as s,t as A,j as ae,k as E,h as v}from"./render.CCc2TC_d.js";import{t as L,s as m,f as U}from"./index.CQC0emMZ.js";/* empty css                       */var te=f('<div class="absolute h-full w-full rounded-lg bg-zinc-50 dark:bg-zinc-800 svelte-6p0m78"></div> <div class="animate-pulse-fast absolute h-full w-full rounded-lg svelte-6p0m78"><div class="h-full w-full rounded-lg bg-zinc-100 dark:bg-zinc-700 svelte-6p0m78"></div></div>',1),se=f('<div class="mt-4 svelte-6p0m78"><h4 class="text-md font-semibold text-zinc-700 dark:text-zinc-300 svelte-6p0m78">Last Played:</h4> <a target="_blank" rel="noopener noreferrer" class="text-sm text-blue-500 hover:underline svelte-6p0m78"> </a> <p class="text-sm text-zinc-600 dark:text-zinc-400 svelte-6p0m78"> </p> <p class="text-sm text-zinc-600 dark:text-zinc-400 svelte-6p0m78"> </p></div>'),re=f('<div class="rounded-lg border border-zinc-200 dark:border-zinc-700 p-4 bg-white dark:bg-zinc-900 shadow-md svelte-6p0m78"><div class="flex items-center space-x-4 svelte-6p0m78"><div class="w-16 h-16 flex-shrink-0 svelte-6p0m78"><img class="w-full h-full object-cover rounded-full svelte-6p0m78"></div> <div class="flex-grow svelte-6p0m78"><h3 class="text-lg font-semibold text-zinc-800 dark:text-zinc-100 svelte-6p0m78"><a target="_blank" rel="noopener noreferrer" class="hover:underline svelte-6p0m78"> </a></h3> <p class="text-sm text-zinc-600 dark:text-zinc-400 svelte-6p0m78"> </p> <p class="text-sm text-zinc-600 dark:text-zinc-400 svelte-6p0m78"> </p></div></div> <!></div>'),le=f('<div class="osu-widget svelte-6p0m78"><div class="relative w-full not-prose svelte-6p0m78"><!> <!></div></div>');function ne(q,C){Y(C,!1);let e=T(void 0),x=T(!0);W(async()=>{try{const r=await fetch("/api/osu.json");if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);w(e,await r.json())}catch(r){console.error("Error fetching osu! data:",r)}finally{w(x,!1)}}),X();var _=le(),P=t(_),$=t(P);{var G=r=>{var i=te(),d=ee(i),o=l(d,2);L(3,d,()=>U,()=>({delay:0,duration:250})),L(3,o,()=>U,()=>({delay:0,duration:250})),u(r,i)};z($,r=>{a(x)&&r(G)})}var H=l($,2);{var I=r=>{var i=re(),d=t(i),o=t(d),h=t(o);s(o);var R=l(o,2),b=t(R),g=t(b),M=t(g,!0);s(g),s(b);var k=l(b,2),O=t(k);s(k);var j=l(k,2),S=t(j);s(j),s(R),s(d);var B=l(d,2);{var D=n=>{var c=se(),p=l(t(c),2),J=t(p,!0);s(p);var y=l(p,2),K=t(y);s(y);var F=l(y,2),N=t(F);s(F),s(c),A((Q,V)=>{m(p,"href",a(e).lastPlayed.beatmapUrl),v(J,a(e).lastPlayed.beatmapTitle),v(K,`Score: ${a(e).lastPlayed.score??""} | Accuracy: ${Q??""}% | Rank: ${a(e).lastPlayed.rank??""}`),v(N,`${a(e).lastPlayed.difficulty??""} (${V??""} stars)`)},[()=>a(e).lastPlayed.accuracy.toFixed(2),()=>a(e).lastPlayed.starRating.toFixed(2)],E),u(n,c)};z(B,n=>{a(e).lastPlayed&&n(D)})}s(i),A((n,c)=>{m(h,"src",a(e).avatarUrl),m(h,"alt",a(e).username),m(g,"href",`https://osu.ppy.sh/users/${a(e).userId}`),v(M,a(e).username),v(O,`Global Rank: #${a(e).globalRank??""} | Country Rank: #${a(e).countryRank??""}`),v(S,`PP: ${n??""} | Accuracy: ${c??""}%`)},[()=>a(e).pp.toFixed(2),()=>a(e).accuracy.toFixed(2)],E),ae("load",h,()=>w(x,!1)),u(r,i)};z(H,r=>{a(e)&&r(I)})}s(P),s(_),u(q,_),Z()}export{ne as default};
